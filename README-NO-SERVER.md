# راهنمای آپلود تصاویر بدون سرور

## تغییرات جدید

این پروژه حالا **بدون نیاز به سرور جداگانه** کار می‌کند! تصاویر به صورت Base64 در localStorage مرورگر ذخیره می‌شوند.

## ✨ ویژگی‌های جدید

### 🚀 بدون سرور
- **نیاز به سرور نیست**: دیگر نیازی به اجرای سرور Express نیست
- **ذخیره محلی**: تصاویر در localStorage مرورگر ذخیره می‌شوند
- **عملکرد سریع**: بدون نیاز به آپلود به سرور

### 📸 آپلود تصویر
- انتخاب فایل تصویری از کامپیوتر
- تبدیل خودکار به Base64
- ذخیره در localStorage با کلید منحصر به فرد
- پیش‌نمایش فوری

### 🧹 مدیریت حافظه
- **پاکسازی خودکار**: فقط 50 تصویر آخر نگه داشته می‌شود
- **بهینه‌سازی**: تصاویر قدیمی به صورت خودکار حذف می‌شوند
- **حجم محدود**: حداکثر 2 مگابایت برای هر تصویر

## 🚀 نحوه اجرا

### فقط فرانت‌اند (بدون سرور)
```bash
npm run dev
```

### یا اجرای کامل (اگر سرور دارید)
```bash
npm run dev:full
```

## 📋 دستورات مفید

```bash
# اجرای فقط فرانت‌اند (توصیه شده)
npm run dev

# ساخت نسخه تولید
npm run build

# پیش‌نمایش نسخه تولید
npm run preview
```

## 🔧 نحوه کار

### 1. آپلود تصویر
```javascript
// تصویر به Base64 تبدیل می‌شود
const base64 = await fileToBase64(file);

// در localStorage ذخیره می‌شود
localStorage.setItem('menu_image_1234567890', base64);
```

### 2. نمایش تصویر
```javascript
// از localStorage خوانده می‌شود
const imageData = getImageFromStorage('menu_image_1234567890');
```

### 3. پاکسازی خودکار
```javascript
// فقط 50 تصویر آخر نگه داشته می‌شود
cleanupOldImages();
```

## 📊 محدودیت‌ها

### حجم فایل
- **حداکثر**: 2 مگابایت
- **توصیه**: کمتر از 1 مگابایت

### تعداد تصاویر
- **حداکثر**: 50 تصویر
- **پاکسازی**: خودکار

### فرمت‌های مجاز
- JPG / JPEG
- PNG
- GIF
- WebP

## 🎯 مزایا

### ✅ مزایا
- **سادگی**: بدون نیاز به سرور
- **سرعت**: آپلود فوری
- **قابلیت حمل**: در هر سروری کار می‌کند
- **امنیت**: داده‌ها در مرورگر کاربر

### ⚠️ محدودیت‌ها
- **حجم محدود**: حداکثر 2 مگابایت
- **ذخیره موقت**: فقط در مرورگر فعلی
- **عدم اشتراک**: تصاویر بین دستگاه‌ها به اشتراک گذاشته نمی‌شوند

## 🔄 مهاجرت از سرور

### اگر قبلاً از سرور استفاده می‌کردید:
1. سرور را متوقف کنید
2. از دستور `npm run dev` استفاده کنید
3. تصاویر موجود حفظ می‌شوند
4. تصاویر جدید در localStorage ذخیره می‌شوند

## 🛠️ عیب‌یابی

### مشکل: تصاویر نمایش داده نمی‌شوند
**راه حل**: 
- localStorage را بررسی کنید
- تصویر پیش‌فرض `/sample-coffee.jpg` نمایش داده می‌شود

### مشکل: خطای حجم فایل
**راه حل**: 
- اندازه فایل را کاهش دهید
- فرمت فایل را تغییر دهید

### مشکل: localStorage پر شده
**راه حل**: 
- تصاویر قدیمی به صورت خودکار حذف می‌شوند
- مرورگر را refresh کنید

## 📝 نکات مهم

1. **تصاویر موقت**: تصاویر فقط در مرورگر فعلی ذخیره می‌شوند
2. **پاکسازی مرورگر**: پاک کردن cache تصاویر را حذف می‌کند
3. **حجم محدود**: localStorage محدودیت حجم دارد
4. **پشتیبان‌گیری**: برای حفظ تصاویر، localStorage را export کنید

## 🎉 نتیجه

حالا پروژه شما کاملاً مستقل است و بدون نیاز به سرور کار می‌کند! 🚀 